name: "hover_type_information"
description: "Hover shows type information for paths"
category: "features/hover"
tags: ["hover", "type", "information"]

documents:
  test_doc:
    uri: "file:///test.utlx"
    languageId: "utlx"
    version: 1
    text: |
      input: { name: string, age: number }
      output: input.name

sequence:
  # Initialize
  - type: request
    method: "initialize"
    params:
      processId: 12345
      rootUri: "file:///tmp"
      capabilities: {}
    expect:
      result:
        capabilities:
          hoverProvider: true

  # Open document
  - type: notification
    method: "textDocument/didOpen"
    params:
      textDocument:
        uri: "{{documents.test_doc.uri}}"
        languageId: "{{documents.test_doc.languageId}}"
        version: "{{documents.test_doc.version}}"
        text: "{{documents.test_doc.text}}"

  # Hover over "input.name"
  - type: request
    method: "textDocument/hover"
    params:
      textDocument:
        uri: "{{documents.test_doc.uri}}"
      position:
        line: 1
        character: 14
    expect:
      result:
        contents:
          kind: "markdown"
          value:
            contains: ["input.name", "string"]
        range:
          start: { line: 1, character: 8 }
          end: { line: 1, character: 18 }
