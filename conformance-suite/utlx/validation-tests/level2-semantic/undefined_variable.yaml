name: "undefined_variable_reference"
category: "level2-semantic"
description: "Test detection of undefined variable reference"
tags: ["semantic", "undefined-variable", "scope"]

script: |
  %utlx 1.0
  input json
  output json
  ---
  {
    name: input.customerName,
    total: undefinedVariable + 10
  }

validation_expected:
  should_pass: true  # Passes with warnings
  exit_code: 0       # Type warnings don't fail validation

  errors: []

  warnings:
    - level: "semantic"
      type: "undefined_variable"
      message_pattern: ".*(undefined|not defined|unknown).*variable.*"
      severity: "warning"

metadata:
  author: "UTL-X Team"
  created: "2025-11-01"
  references: ["validation-and-analysis-study.md#level-2-semantic"]
