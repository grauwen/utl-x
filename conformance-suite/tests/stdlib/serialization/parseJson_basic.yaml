name: "parseJson_basic"
category: "stdlib/serialization"
description: "Test JSON parsing function"
tags: ["serialization", "json", "parse"]

input:
  format: json
  data: "{\"name\": \"John\", \"age\": 30}"

transformation: |
  %utlx 1.0
  input json
  output json
  ---
  parseJson(@input)

expected:
  format: json
  data: {
    "name": "John",
    "age": 30
  }

performance_limits:
  max_duration_ms: 100
  max_memory_mb: 10

variants:
  - name: "array"
    input:
      format: json
      data: "[1, 2, 3, \"test\"]"
    expected:
      format: json
      data: [1, 2, 3, "test"]
      
  - name: "nested_object"
    input:
      format: json
      data: "{\"user\": {\"name\": \"John\", \"details\": {\"age\": 30}}}"
    expected:
      format: json
      data: {
        "user": {
          "name": "John",
          "details": {
            "age": 30
          }
        }
      }

metadata:
  author: "UTL-X Team"
  created: "2024-01-15"
  references: ["UTL-X Stdlib Reference - Serialization Functions"]