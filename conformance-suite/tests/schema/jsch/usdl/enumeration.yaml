# Test: USDL enumeration to JSON Schema
# Verifies "%kind": "enumeration" generates enum property

description: "Generate JSON Schema enum from USDL enumeration"

transformation: |
  %utlx 1.0
  input json
  output jsch
  ---
  {
    "%types": {
      Status: {
        "%kind": "enumeration",
        "%values": ["pending", "approved", "rejected"]
      }
    }
  }

input:
  format: json
  data: |
      {}

expected:
  format: json
  data: |
      {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "$defs": {
          "Status": {
            "type": "string",
            "enum": ["pending", "approved", "rejected"]
          }
        }
      }
