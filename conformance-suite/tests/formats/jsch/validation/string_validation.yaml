name: "jsch_string_validation"
category: "formats/jsch/validation"
description: "Extract string validation constraints from JSON Schema"
tags: ['jsch', 'json-schema', 'validation']

input:
  format: jsch
  data: |
    {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
            "minLength": 5,
            "maxLength": 100
          }
        }
      }

transformation: |
  %utlx 1.0
    input jsch
    output json
    ---
    {
      emailField: {
        type: $input.properties.email.type,
        format: $input.properties.email.format,
        pattern: $input.properties.email.pattern,
        minLength: $input.properties.email.minLength,
        maxLength: $input.properties.email.maxLength
      },
      validationPresent: true
    }

expected:
  format: json
  data: |
    {
      "emailField": {
        "type": "string",
        "format": "email",
        "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
        "minLength": 5,
        "maxLength": 100
      },
      "validationPresent": true
    }
