name: "xml_to_xml_attribute_transformation"
category: "formats/xml/attributes"
description: "Test XML to XML transformation preserving and modifying attributes"
tags: ["xml", "attributes", "@attribute", "xml-to-xml", "transformation"]

input:
  format: xml
  data: |
    <?xml version="1.0" encoding="UTF-8"?>
    <Order id="ORD-999" type="standard">
      <Customer>Dave</Customer>
      <Total>499.99</Total>
    </Order>

transformation: |
  %utlx 1.0
  input xml
  output xml
  ---
  {
    Invoice: {
      @number: "INV-" + $input.Order.@id,
      @invoiceType: $input.Order.@type,
      CustomerName: $input.Order.Customer,
      Amount: $input.Order.Total
    }
  }

expected:
  format: xml
  data: |
    <?xml version="1.0" encoding="UTF-8"?>
    <Invoice number="INV-ORD-999" invoiceType="standard">
      <CustomerName>Dave</CustomerName>
      <Amount>499.99</Amount>
    </Invoice>

performance_limits:
  max_duration_ms: 100
  max_memory_mb: 10

metadata:
  author: "UTL-X Team"
  created: "2025-10-31"
  references:
    - "CONFORMANCE_ISSUES.md - Issue 1: XML Attribute Syntax"
